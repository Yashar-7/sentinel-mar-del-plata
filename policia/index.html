<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <title>SENTINEL | TACTICAL COMMAND CENTER</title>
    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css" />
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Orbitron:wght@400;700;900&family=Share+Tech+Mono&display=swap');

        :root {
            --cian-pure: #00f2ff;
            --cian-glow: rgba(0, 242, 255, 0.6);
            --bg-obsidian: #000b0e;
            --panel-glass: rgba(0, 15, 20, 0.9);
            --alert-red: #ff003c;
        }

        body, html { 
            margin: 0; padding: 0; height: 100%; 
            background: var(--bg-obsidian); color: var(--cian-pure);
            font-family: 'Share Tech Mono', monospace; overflow: hidden;
            text-transform: uppercase;
        }

        /* --- MAPA CON PROCESAMIENTO CIAN --- */
        #map-wrapper {
            position: absolute; inset: 0;
            background: var(--bg-obsidian);
            z-index: 1;
        }
        
        #map { 
            height: 100%; width: 100%; 
            filter: invert(100%) hue-rotate(170deg) brightness(0.55) contrast(1.3) saturate(1.8);
        }

        /* --- EFECTO DE ESCANEO DE RADAR (LÍNEA HORIZONTAL) --- */
        .radar-scan {
            position: absolute; width: 100%; height: 100px;
            background: linear-gradient(to bottom, transparent, var(--cian-glow), transparent);
            z-index: 5; pointer-events: none; opacity: 0.3;
            animation: scanLine 4s linear infinite;
        }

        @keyframes scanLine {
            0% { top: -100px; }
            100% { top: 100%; }
        }

        /* --- CAPA DE VIÑETA PARA PROFUNDIDAD --- */
        .vignette {
            position: absolute; inset: 0; z-index: 6; pointer-events: none;
            background: radial-gradient(circle, transparent 30%, rgba(0,0,0,0.8) 100%);
        }

        /* --- HEADER TÁCTICO --- */
        header {
            position: absolute; top: 0; left: 0; right: 0; z-index: 100;
            padding: 30px; display: flex; justify-content: space-between;
            background: linear-gradient(to bottom, rgba(0,0,0,0.9), transparent);
        }

        .main-title h1 {
            font-family: 'Orbitron', sans-serif; font-size: 2.8rem; letter-spacing: 12px;
            margin: 0; text-shadow: 0 0 25px var(--cian-pure); color: #fff;
        }

        /* --- PANEL DE INCIDENTES (ESTILO CINEMATOGRÁFICO) --- */
        .side-panel {
            position: absolute; right: 30px; top: 130px; width: 380px;
            background: var(--panel-glass); border: 2px solid var(--cian-pure);
            padding: 25px; z-index: 100;
            clip-path: polygon(0 0, 100% 0, 100% 92%, 92% 100%, 0 100%);
            backdrop-filter: blur(10px);
        }

        .incident-card {
            border: 1px solid var(--cian-glow); padding: 15px; margin-top: 15px;
            background: rgba(0, 242, 255, 0.05); border-left: 5px solid var(--alert-red);
            animation: glitch 5s infinite;
        }

        /* --- FOOTER DE MODO PERSECUCIÓN --- */
        .pursuit-footer {
            position: absolute; bottom: 40px; left: 50%; transform: translateX(-50%);
            display: flex; gap: 40px; z-index: 100;
        }

        .hex-data {
            background: var(--panel-glass); border: 2px solid var(--cian-pure);
            padding: 15px 40px; min-width: 220px; text-align: center;
            clip-path: polygon(15% 0, 85% 0, 100% 50%, 85% 100%, 15% 100%, 0 50%);
            box-shadow: 0 0 30px rgba(0, 242, 255, 0.2);
        }

        .hex-data div { font-family: 'Orbitron'; font-size: 1.8rem; color: #fff; text-shadow: 0 0 10px var(--cian-pure); }
        .hex-data label { font-size: 10px; opacity: 0.7; letter-spacing: 2px; }

    </style>
</head>
<body>

    <header>
        <div class="main-title">
            <h1>SENTINEL</h1>
            <div style="color: var(--cian-pure); font-size: 0.8rem; letter-spacing: 4px;">CENTRO DE MANDO TÁCTICO // SECTOR MDQ</div>
        </div>
        <div style="text-align: right;">
            <div id="reloj" style="font-family: 'Orbitron'; font-size: 2.5rem; color: #fff;">00:00:00</div>
            <div style="color: #00ff9f; font-size: 0.9rem; letter-spacing: 2px;">● ENLACE SATELITAL SEGURO ACTIVO</div>
        </div>
    </header>

    <div id="map-wrapper">
        <div id="map"></div>
        <div class="radar-scan"></div>
        <div class="vignette"></div>
    </div>

    <div class="side-panel">
        <div style="font-family: 'Orbitron'; font-size: 1rem; border-bottom: 2px solid var(--cian-pure); padding-bottom: 10px;">
            ALERTAS EN TIEMPO REAL
        </div>
        <div class="incident-card">
            <div style="font-size: 0.7rem; color: var(--alert-red); font-weight: bold;">[ EMERGENCIA NIVEL 5 ]</div>
            <div style="font-size: 1.2rem; margin: 8px 0; color: #fff;">ROBO EN PROGRESO</div>
            <div style="font-size: 0.8rem; opacity: 0.8;">LOCALIZACIÓN: AV. COLÓN & INDEPENDENCIA</div>
            <div style="margin-top: 10px; font-size: 0.7rem; color: var(--cian-pure);">UNIDADES CERCANAS: 02 (ZONA 4)</div>
        </div>
    </div>

    <div class="pursuit-footer">
        <div class="hex-data">
            <label>PROBABILIDAD</label>
            <div id="prob">94.8%</div>
        </div>
        <div class="hex-data" style="border-color: var(--alert-red);">
            <label>RESPUESTA ESTIMADA</label>
            <div id="time">03:12</div>
        </div>
    </div>

    <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"></script>
    <script>
        // Inicializar Mapa centrado en Mar del Plata
        const map = L.map('map', { zoomControl: false, attributionControl: false }).setView([-38.0055, -57.5426], 15);

        // Capa base oscura (CartoDB)
        L.tileLayer('https://{s}.basemaps.cartocdn.com/dark_all/{z}/{x}/{y}{r}.png').addTo(map);

        // Reloj
        setInterval(() => {
            const now = new Date();
            document.getElementById('reloj').innerText = now.toLocaleTimeString('es-AR', { hour12: false });
        }, 1000);

        // Marcador Táctico Resaltado
        const tacticalMarker = L.divIcon({
            className: 'marker-cian',
            html: `
                <div style="position:relative;">
                    <div style="position:absolute; width:20px; height:20px; background:var(--cian-pure); border-radius:50%; box-shadow:0 0 25px var(--cian-pure); border:2px solid #fff;"></div>
                    <div style="position:absolute; width:40px; height:40px; border:1px solid var(--cian-pure); border-radius:50%; top:-10px; left:-10px; animation: pulse 2s infinite;"></div>
                </div>
            `,
            iconSize: [20, 20],
            iconAnchor: [10, 10]
        });

        L.marker([-38.0055, -57.5426], {icon: tacticalMarker}).addTo(map);
    </script>

    <style>
        @keyframes pulse {
            0% { transform: scale(1); opacity: 0.8; }
            100% { transform: scale(2.5); opacity: 0; }
        }
    </style>
</body>
</html>
