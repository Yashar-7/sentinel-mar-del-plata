<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <title>SENTINEL | MANDO TÁCTICO FINAL</title>
    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css" />
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Orbitron:wght@400;700;900&family=Share+Tech+Mono&display=swap');

        :root {
            --cian-pure: #00f2ff;
            --cian-glow: rgba(0, 242, 255, 0.6);
            --bg-obsidian: #000507; /* Negro más profundo */
            --panel-glass: rgba(0, 10, 15, 0.95);
            --alert-red: #ff003c;
        }

        body, html { 
            margin: 0; padding: 0; height: 100%; 
            background: var(--bg-obsidian); color: var(--cian-pure);
            font-family: 'Share Tech Mono', monospace; overflow: hidden;
        }

        /* --- EL MAPA DE NEÓN --- */
        #map { 
            position: absolute; inset: 0; z-index: 1;
            background: var(--bg-obsidian);
            /* Este filtro mata los colores tierra y resalta las calles en cian eléctrico */
            filter: invert(100%) hue-rotate(160deg) brightness(0.4) contrast(1.6) saturate(2.5);
        }

        /* Escaneo de radar corregido */
        .radar-line {
            position: absolute; width: 100%; height: 2px;
            background: var(--cian-pure); box-shadow: 0 0 15px var(--cian-pure);
            z-index: 5; pointer-events: none; opacity: 0.5;
            animation: scanMove 5s linear infinite;
        }

        @keyframes scanMove { 0% { top: 0%; } 100% { top: 100%; } }

        /* --- INTERFAZ SUPERIOR --- */
        header {
            position: absolute; top: 0; width: 100%; z-index: 100; padding: 25px;
            display: flex; justify-content: space-between; align-items: flex-start;
            pointer-events: none;
        }

        .brand-tactical h1 {
            font-family: 'Orbitron', sans-serif; font-size: 2.5rem; letter-spacing: 12px;
            text-shadow: 0 0 30px var(--cian-pure); color: #fff; margin: 0;
        }

        /* --- PANEL DE INCIDENTES --- */
        .side-panel {
            position: absolute; right: 25px; top: 120px; width: 360px;
            background: var(--panel-glass); border: 1px solid var(--cian-pure);
            padding: 20px; z-index: 100; backdrop-filter: blur(10px);
            clip-path: polygon(0 0, 100% 0, 100% 95%, 95% 100%, 0 100%);
        }

        .incident-card {
            border-left: 4px solid var(--alert-red); background: rgba(255, 255, 255, 0.03);
            padding: 15px; margin-top: 15px; cursor: pointer; transition: 0.3s;
        }

        .incident-card:hover { background: rgba(0, 242, 255, 0.1); }

        /* --- VISOR DE CÁMARA (HIDDEN BY DEFAULT) --- */
        #camera-viewer {
            position: absolute; bottom: 150px; left: 30px; width: 320px; height: 200px;
            background: #000; border: 1px solid var(--cian-pure); z-index: 100;
            display: none; flex-direction: column;
        }

        .cam-header { background: var(--cian-pure); color: #000; font-size: 10px; padding: 2px 10px; font-weight: bold; }
        
        .cam-feed { 
            flex: 1; display: flex; align-items: center; justify-content: center;
            background: repeating-linear-gradient(0deg, #050505, #050505 2px, #111 3px);
            color: var(--cian-pure); font-size: 12px;
        }

        /* --- BOTONES HEX --- */
        .footer-stats {
            position: absolute; bottom: 30px; left: 50%; transform: translateX(-50%);
            display: flex; gap: 30px; z-index: 100;
        }

        .stat-hex {
            background: var(--panel-glass); border: 1px solid var(--cian-pure);
            padding: 15px 30px; text-align: center; min-width: 180px;
            clip-path: polygon(10% 0, 90% 0, 100% 50%, 90% 100%, 10% 100%, 0 50%);
        }

    </style>
</head>
<body>

    <div class="radar-line"></div>
    
    <header>
        <div class="brand-tactical" style="pointer-events: all;">
            <h1>SENTINEL</h1>
            <p style="font-size: 10px; letter-spacing: 5px; opacity: 0.8;">MAR DEL PLATA // SISTEMA DE RESPUESTA CRÍTICA</p>
        </div>
        <div style="text-align: right; pointer-events: all;">
            <div id="reloj" style="font-family: 'Orbitron'; font-size: 2.2rem; color: #fff;">00:00:00</div>
            <div style="color: #00ff9f; font-size: 0.8rem;">● SATÉLITE_VINCULADO</div>
        </div>
    </header>

    <div id="map"></div>

    <div class="side-panel">
        <div style="font-family: 'Orbitron'; border-bottom: 1px solid var(--cian-pure); padding-bottom: 10px;">ALERTAS ACTIVAS</div>
        <div class="incident-card" onclick="alertClick()">
            <div style="color: var(--alert-red); font-weight: bold; font-size: 11px;">[!] EMERGENCIA EN CURSO</div>
            <div style="font-size: 1.2rem; margin: 5px 0;">ROBO / SAQUEO</div>
            <div style="font-size: 0.8rem; opacity: 0.7;">AV. COLÓN 1200</div>
            <div style="margin-top: 10px; color: var(--cian-pure); font-size: 10px;">>>> CLICK PARA INTERCEPTAR</div>
        </div>
    </div>

    <div id="camera-viewer">
        <div class="cam-header">CAM_04 // LIVE FEED // AV. COLÓN</div>
        <div class="cam-feed">
            <span id="cam-status">REC ● EN ESPERA...</span>
        </div>
    </div>

    <div class="footer-stats">
        <div class="stat-hex">
            <span style="font-size: 10px;">UNIDADES</span>
            <div style="font-family: 'Orbitron'; font-size: 1.5rem;">08</div>
        </div>
        <div class="stat-hex" style="border-color: var(--alert-red);">
            <span style="font-size: 10px;">AMENAZA</span>
            <div style="font-family: 'Orbitron'; font-size: 1.5rem; color: var(--alert-red);">ALTA</div>
        </div>
    </div>

    <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"></script>
    <script>
        // Configuración del Mapa
        const map = L.map('map', { zoomControl: false }).setView([-38.0055, -57.5426], 15);

        // Capa de mosaico ultra oscura
        L.tileLayer('https://{s}.basemaps.cartocdn.com/dark_all/{z}/{x}/{y}{r}.png').addTo(map);

        // Reloj
        setInterval(() => {
            document.getElementById('reloj').innerText = new Date().toLocaleTimeString('es-AR');
        }, 1000);

        // Función Táctica de Alerta
        function alertClick() {
            // 1. Zoom agresivo al punto del incidente
            map.flyTo([-38.0055, -57.5426], 18, { duration: 1.5 });

            // 2. Mostrar visor de cámara
            const cam = document.getElementById('camera-viewer');
            cam.style.display = 'flex';
            
            // 3. Simular conexión de cámara
            setTimeout(() => {
                document.getElementById('cam-status').innerText = "CONEXIÓN ESTABLECIDA - TRANSMITIENDO...";
                document.getElementById('cam-status').style.color = "#ff003c";
            }, 1000);

            // 4. Marcador de pulso rojo
            const pulse = L.circle([-38.0055, -57.5426], {
                radius: 20, color: '#ff003c', fillColor: '#ff003c', fillOpacity: 0.5
            }).addTo(map);
        }
    </script>
</body>
</html>
